<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Search</title>
	<script type="text/javascript">
		function ArrayList(){
			var array = [];

			this.insert = function(item){
				array.push(item);
			};
			this.toString = function(){
				return array.join();
			};
			function swap(index1, index2){
				var aux = array[index1];
				array[index1] = array[index2];
				array[index2] = aux;
			}
			//冒泡排序
			this.bubbleSort = function(){
				for(var i = 0; i < array.length; i++){
					for(var j = 0; j < array.length - 1 - i; j++){
						if(array[j] > array[j+1]){
							swap(j, j+1);
						}
					}
				}
			};

			//顺序搜索
			this.sequentialSearch = function(item){
				for(var i = 0; i < array.length; i++){
					if(item === array[i]){
						return i;
					}
				}
				return -1;
			};

			//二分查找
			this.binarySearch = function(item){
				this.bubbleSort();

				var low = 0;
				var high = array.length - 1;
				var mid, element;

				while(low <= high){
					mid = Math.floor((low + high) / 2);
					element = array[mid];

					if(element < item){
						low = mid + 1;
					}else if(element > item){
						high = mid - 1;
					}else{
						return array.length - 1 - mid;
					}
				}
				return -1;
			}
		}

		function createNonSortedArray(size){
			var array = new ArrayList();
			for(var i = size; i > 0; i--){
				array.insert(i);
			}
			return array;
		}


		var array = createNonSortedArray(15);
		console.log(array.toString());
		console.log(array.binarySearch(6));
	</script>
</head>
<body>

</body>
</html>